version: "3.1"
services:
    # ------------------------------------------------------------
    # Syncthing
    # ------------------------------------------------------------
    syncthing:
        image: syncthing/syncthing
        container_name: syncthing
        restart: always
        network_mode: host
        ports:
            - "8384:8384"
        volumes:
            - syncthing:/var/syncthing
            - ../../:/var/syncthing/nucleus/

    # ------------------------------------------------------------
    # Portainer
    # ------------------------------------------------------------
    portainer:
        image: portainer/portainer
        container_name: portainer
        restart: always
        network_mode: host
        ports:
            - "127.0.0.1:9000:9000"
        volumes:
            - /var/run/docker.sock:/var/run/docker.sock
            - portainer:/data/

# ------------------------------------------------------------
# Volumes
# ------------------------------------------------------------
volumes:
    syncthing:
    portainer:
